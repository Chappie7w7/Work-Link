<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <title>WorkLink</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_index.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_login.css') }}">
</head>

<body>

    <!-- HEADER -->
    <header>
        <div class="logo"></div>
        <h1>WorkLink</h1>

        <!-- Botones de acceso -->
        <div class="auth-links">
            <a href="{{ url_for('DesarrolladoresRoute.desarrolladores') }}" class="link-auth">Desarrolladores</a>
            <a href="{{ url_for('LoginRoute.login_form') }}" class="link-auth">Iniciar sesión</a>


            <!-- Menú desplegable para crear cuenta -->
            <div class="dropdown">
                <span class="link-auth">Crear cuenta</span>
                <div class="dropdown-content">
                    <a href="{{ url_for('RegistroRoute.registro') }}">Soy usuario</a>
                    <a href="{{ url_for('RegistroEmpresaRoute.registro_empresa') }}">Soy empresa</a>
                </div>
            </div>
        </div>
    </header>

    <div class="hero">
        <iframe class="hero-video"
            src="https://www.youtube.com/embed/vDMyIZ2nsS0?autoplay=1&mute=1&loop=1&playlist=vDMyIZ2nsS0"
            title="Video de búsqueda de empleo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
        </iframe>
        <div class="hero-content">
            <h2>Encuentra tu próximo trabajo</h2>
            <p>Oportunidades laborales cerca de ti, rápido y fácil</p>
        </div>
    </div>

    <!-- LISTA DE TRABAJOS -->
    <div class="jobs-section">
        <h2 class="jobs-title">Ofertas destacadas</h2>
        <div class="jobs-grid">
            {% if jobs %}
            {% for v in jobs %}
            <div class="vacante-card">
                <h3>{{ v.titulo }}</h3>
                <p class="job-company"><strong>Empresa:</strong> {{ v.empresa.nombre_empresa if v.empresa else "No
                    especificada" }}</p>
                <p><strong>Ubicación:</strong> {{ v.ubicacion or "No especificada" }}</p>
                <p><strong>Modalidad:</strong> {{ v.modalidad }}</p>
                <p><strong>Estado:</strong> {{ v.estado }}</p>
                {% if v.salario_aprox %}
                <p><strong>Salario aprox:</strong> ${{ "%.2f"|format(v.salario_aprox) }}</p>
                {% endif %}
                <p>{{ v.descripcion[:150] }}...</p>

                <!-- Botón que abre el modal -->
                <button class="card-btn" onclick="openModal(this)" data-titulo="{{ v.titulo }}"
                    data-empresa="{{ v.empresa.nombre_empresa if v.empresa else 'No especificada' }}"
                    data-descripcion="{{ v.descripcion }}">
                    Ver más
                </button>
            </div>
            {% endfor %}
            {% else %}
            <p>No hay vacantes destacadas aún.</p>
            {% endif %}
        </div>
    </div>

    <!-- Modal flotante -->
    <div id="jobModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle"></h2>
            <p><strong>Empresa:</strong> <span id="modalEmpresa"></span></p>
            <p id="modalDesc"></p>
        </div>
    </div>

    <script>
        function openModal(button) {
            const title = button.getAttribute("data-titulo");
            const desc = button.getAttribute("data-descripcion");
            const empresa = button.getAttribute("data-empresa");

            document.getElementById("modalTitle").innerText = title;
            document.getElementById("modalDesc").innerText = desc;
            document.getElementById("modalEmpresa").innerText = empresa;
            document.getElementById("jobModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("jobModal").style.display = "none";
        }

        // Cerrar modal al hacer clic fuera de él
        window.onclick = function (event) {
            const modal = document.getElementById("jobModal");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>

    <!-- FOOTER -->
    <footer>
        <div class="footer-container">
            <div class="footer-about">
                <h4>WorkLink</h4>
                <p>Conectando talento con oportunidades laborales de forma rápida y sencilla.</p>
            </div>

            <div class="footer-links">
                <h4>Enlaces</h4>
                <ul>
                    <li><a href="#">Inicio</a></li>
                    <li><a href="#">Ofertas</a></li>
                    <li><a href="#">Empresas</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </div>

            <div class="footer-contact">
                <h4>Contacto</h4>
                <p>Email: contacto@worklink.com</p>
                <p>Tel: +52 55 1234 5678</p>
            </div>

            <div class="footer-social">
                <h4>Síguenos</h4>
                <div class="footer-social">
                    <a href="https://www.facebook.com/tu_pagina" target="_blank">
                        <img src="{{ url_for('static', filename='img/2023_Facebook_icon.svg') }}" alt="Facebook"
                            class="social-icon">
                    </a>
                    <a href="https://www.linkedin.com/tu_pagina" target="_blank">
                        <img src="{{ url_for('static', filename='img/LinkedIn_icon.svg') }}" alt="LinkedIn"
                            class="social-icon">
                    </a>
                    <a href="https://twitter.com/tu_pagina" target="_blank">
                        <img src="{{ url_for('static', filename='img/Logo_of_Twitter.svg') }}" alt="Twitter"
                            class="social-icon">
                    </a>
                </div>

            </div>

            <!-- Métodos de pago -->
            <div class="footer-payments">
                <h4>Métodos de pago</h4>
                <div class="footer-payments">
                    <div class="payment-icons">
                        <img src="{{ url_for('static', filename='img/Visa.svg') }}" alt="Visa">
                        <img src="{{ url_for('static', filename='img/Mastercard-logo.svg') }}" alt="MasterCard">
                        <img src="{{ url_for('static', filename='img/Paypal.svg') }}" alt="PayPal">
                        <img src="{{ url_for('static', filename='img/American_Express_logo.svg') }}"
                            alt="American Express">
                    </div>
                </div>


            </div>
        </div>

        <div class="footer-bottom">
            <p>© 2025 WorkLink. Todos los derechos reservados.</p>
        </div>
    </footer>


</body>

</html>