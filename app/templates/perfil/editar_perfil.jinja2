{% import "components/navbar.jinja2" as components %}
{% import "components/footer.jinja2" as footer %}
{% import "components/flash_messages.jinja2" as flash %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Editar Perfil</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_perfil.css') }}">

</head>

<body>
    {{ components.navbar(current_user) }}
    {{ flash.render_flash_messages() }}

    <div class="main-content">
        <div class="form-container">
            <h2>Editar Perfil</h2>

            <form action="{{ url_for('PerfilRoute.editar') }}" method="post" class="perfil-form" enctype="multipart/form-data">
                <!-- Foto de Perfil -->
                <div class="form-group">
                    <label for="foto_perfil">Foto de Perfil</label>
                    {% if current_user and current_user.foto_perfil %}
                        <div class="current-photo">
                            <img src="{{ current_user.foto_perfil }}" alt="Foto actual" class="profile-preview">
                            <p class="photo-note">Foto actual</p>
                        </div>
                    {% endif %}
                    <input type="file" name="foto_perfil" id="foto_perfil" accept="image/png,image/jpg,image/jpeg,image/gif,image/webp">
                    <small class="form-help">Formatos permitidos: PNG, JPG, JPEG, GIF, WEBP</small>
                </div>

                <!-- Nombre -->
                <div class="form-group">
                    <label for="nombre">Nombre</label>
                    <input type="text" name="nombre" id="nombre"
                        value="{{ current_user.nombre if current_user else '' }}" required>
                </div>

                <!-- Correo -->
                <div class="form-group">
                    <label for="correo">Correo</label>
                    <input type="email" name="correo" id="correo"
                        value="{{ current_user.correo if current_user else '' }}" required>
                </div>

                <!-- BotÃ³n -->
                <div class="form-group">
                    <button type="submit">ðŸ’¾ Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Llamar al componente footer -->
    {{ footer.footer() }}
    <!-- Inicializar AOS -->
    <script>
        AOS.init();
    </script>

</body>

</html>